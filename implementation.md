# Реализация интегрального калькулятора

## Общая структура проекта

Проект представляет собой десктопное приложение, написанное на Python с использованием следующих основных компонентов:

1. **Графический интерфейс** (Tkinter)
   - Основное окно приложения
   - Поля для ввода функции и пределов интегрирования
   - Кнопки для вычисления интеграла и построения графика
   - Область вывода результатов

2. **Математический движок** (SymPy)
   - Парсинг математических выражений
   - Символьные вычисления
   - Численное интегрирование

3. **Визуализация** (Matplotlib)
   - Построение графиков функций
   - Отображение области интегрирования
   - Интерактивные элементы управления

## Основные классы и функции

### Класс `IntegrationResult`
```python
@dataclass
class IntegrationResult:
    value: Decimal
    points: int
    is_stable: bool = True
```
Хранит результаты интегрирования:
- `value`: вычисленное значение интеграла
- `points`: количество использованных точек
- `is_stable`: флаг стабильности вычислений

### Класс `IntegrationConfig`
```python
class IntegrationConfig:
    def __init__(self, 
                 min_interval_size: float = 0.5,
                 max_depth: int = 10,
                 precision: int = 50,
                 max_points: int = 150,
                 min_points: int = 20,
                 stability_threshold: float = 1e10,
                 convergence_threshold: float = 0.01):
        # ...
```
Настраивает параметры интегрирования:
- `min_interval_size`: минимальный размер интервала разбиения
- `max_depth`: максимальная глубина рекурсии
- `precision`: точность вычислений
- `max_points`: максимальное количество точек
- `min_points`: минимальное количество точек
- `stability_threshold`: порог стабильности
- `convergence_threshold`: порог сходимости

### Класс `IntegralCalculator`
Основной класс приложения, реализующий:
1. Создание и настройку GUI
2. Обработку пользовательского ввода
3. Вычисление интегралов
4. Построение графиков
5. Отображение результатов

## Алгоритм интегрирования

1. **Валидация входных данных**
   - Проверка корректности функции
   - Проверка пределов интегрирования
   - Проверка параметров разбиения

2. **Адаптивное разбиение интервала**
   - Оценка сложности функции
   - Выбор оптимального количества точек
   - Рекурсивное разбиение при необходимости

3. **Вычисление интеграла**
   - Применение метода прямоугольников
   - Контроль точности
   - Проверка стабильности

4. **Визуализация**
   - Построение графика функции
   - Отображение области интегрирования
   - Настройка масштаба и легенды

## Пример использования

```python
# Создание экземпляра калькулятора
root = tk.Tk()
calculator = IntegralCalculator(root)

# Ввод данных
calculator.expression_var.set("x**2")
calculator.lower_bound_var.set("0")
calculator.upper_bound_var.set("1")

# Вычисление интеграла
calculator.calculate()

# Построение графика
calculator.plot_graph()
```

## Особенности реализации

1. **Точность вычислений**
   - Использование Decimal для высокой точности
   - Адаптивный выбор количества точек
   - Контроль погрешности

2. **Устойчивость**
   - Проверка стабильности вычислений
   - Обработка особых случаев
   - Защита от переполнения

3. **Интерфейс**
   - Интуитивно понятный дизайн
   - Подсказки и примеры
   - Интерактивные элементы управления

4. **Визуализация**
   - Построение графиков в отдельном окне
   - Возможность масштабирования
   - Настройка стиля отображения

## Требования к системе

- Python 3.8+
- Библиотеки:
  - tkinter
  - sympy
  - matplotlib
  - numpy
- Операционная система: Windows, Linux, macOS 